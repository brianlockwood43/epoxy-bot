# Production announcement automation config (v1.2) - Lumeris weekly schedule aware
# Runtime override caveat:
# `EPOXY_ANNOUNCE_TIMEZONE`, `EPOXY_ANNOUNCE_PREP_TIME_LOCAL`, and
# `EPOXY_ANNOUNCE_PREP_CHANNEL_ID` (if set) take precedence over these YAML values.
#
# Current weekly cadence (same car/track unless noted):
# Monday    - Core workshop / 90-minute training block
# Tuesday   - Study hall / Q&A (follow-up to Monday, plus general driving questions)
# Wednesday - Adaptability training (short stints + big condition variance)
# Thursday  - Mastery Group Coaching (for Mastery drivers)
# Friday    - Friday Funday (public minigames)
# Saturday  - Racecraft training (format/participation may change)
# Sunday    - Race Together + weekly orientation for the coming week
timezone: UTC
prep_time_local: "22:00"
prep_channel_id: 1412603858835738784 # thread host for prep pings
prep_role_name: "" # optional role name to mention on prep ping
timestamp_placeholders:
  # Placeholder syntax in generated/copied announcement text:
  # {{DISCORD_TS:event_name}}
  default_style: "f"
  unresolved_policy: "passthrough" # passthrough | block
  raw_tag_policy: "allow" # allow | block
  events:
    monday_workshop_early:
      weekday: 0
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
    monday_workshop_evening:
      weekday: 0
      hour: 20
      minute: 0
      timezone: "America/New_York"
      style: "f"
    tuesday_study_hall_early:
      weekday: 1
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
    tuesday_study_hall_evening:
      weekday: 1
      hour: 20
      minute: 0
      timezone: "America/New_York"
      style: "f"
    wednesday_adaptability_early:
      weekday: 2
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
    wednesday_adaptability_evening:
      weekday: 2
      hour: 20
      minute: 0
      timezone: "America/New_York"
      style: "f"
    thursday_mastery_training:
      weekday: 3
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
    friday_funday_start:
      weekday: 4
      hour: 20
      minute: 30
      timezone: "America/New_York"
      style: "t"
    saturday_racecraft_training:
      weekday: 5
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
    sunday_race_together:
      weekday: 6
      hour: 13
      minute: 30
      timezone: "America/New_York"
      style: "f"
days:
  monday:
    # Core workshop / training block
    enabled: true 
    target_channel_id: 1410479714182631474 # replace with announcement destination channel id
    publish_time_local: "06:00"
    tone: "Clear, concise, and operational."
    structure:
      - "Hook"
      - "What we're doing"
      - "Who it's for"
      - "When & where"
      - "What to prep"
    style_guidance:
      notes: |
        Draft ONE Monday Core Workshop Discord announcement for Lumeris.
        Use this exact section flow:
          1) Hook (2-3 sentences)
          2) What we're doing
          3) Who it's for
          4) When & where
          5) What to prep

        Section requirements:
        - Hook:
          - Name the pillar.
          - Use focus_rationale to make this week feel purposeful and specific.
        - What we're doing:
          - State car + track.
          - List focuses as 1-3 bullets.
          - Add one short line connecting car/track to the focuses (no overexplaining).
        - Who it's for:
          - Include this standard reassurance snippet under this section (exact text is preferred):
            "The session is designed to work for all levels - we'll have clear exercises at each of the four mastery stages for this pillar, so you'll have a way in whether you're just getting oriented or already pushing for fine detail."
          - Add one line: "Especially helpful if you're working on: ..." inferred from focuses.
        - When & where:
          - Make times, duration, and channel obvious and scannable.
        - What to prep:
          - Use prep as a concise checklist.

        Timestamp rules for Monday:
        - Include both Monday workshop timestamps in every Monday announcement using these exact placeholders:
          - {{DISCORD_TS:monday_workshop_early}}
          - {{DISCORD_TS:monday_workshop_evening}}

        Tone and style:
        - Concrete, grounded, friendly.
        - No hype.
        - Max 1-2 emojis total (optional).

        Weekly training pillar reference (carry this context when writing Monday announcements):
        1) Sensory Load:
           Training how much sensory input a driver can process without overwhelm, and how to keep perception clear under pressure.
        2) Decision Making (often referred to as Baseline for shorthand):
           Training decision points regarding racing line, throttle points, etc., plus efficiently using a baseline of safe, repeatable decisions that avoid unnecessary sensory load and over-limit behavior.
        3) Limit (Tire Sound Focus):
           Training how to operate near the tire grip limit using primarily auditory feedback, especially tire sound.
        4) Balance (Visual + Feel Limit):
           Training front/rear balance and limit behavior using visual and force-feedback channels rather than tire sound.
      examples: []
    # Optional style guidance example for LLM drafting (used as references only; never copied directly):
    # style_guidance:
    #   notes: "Prefer short, operational updates with concrete asks."
    #   examples:
    #     - id: "monday_ops_ref"
    #       summary: "compact update format"
    #       text: "Quick ops update: [headline]. Key updates: [points]. Actions: [asks]."
    questions:
      - id: "pillar"
        prompt: "Which pillar is this Monday session focused on? (Sensory Load, Decision Making/Baseline, Limit, or Balance)"
        required: true
      - id: "car"
        prompt: "Which car are we using?"
        required: true
      - id: "track"
        prompt: "Which track are we using?"
        required: true
      - id: "focuses"
        prompt: "List 1-3 specific focuses for this workshop."
        required: true
      - id: "focus_rationale"
        prompt: "In one sentence, why are these the right focuses this week?"
        required: true
      - id: "prep"
        prompt: "Provide a concise prep checklist (bullet style)."
        required: true
      - id: "all_levels_reassurance"
        prompt: "Optional override for the standard all-levels reassurance snippet (leave blank to use the default snippet from style guidance)."
        required: false
  tuesday:
    # Study hall / Q&A - follow-up to Monday
    enabled: false
    target_channel_id: 1414715192448909323
    publish_time_local: "06:00"
    tone: "Supportive and specific."
    structure:
      - "Opening"
      - "Progress"
      - "What We Need"
    style_guidance:
      notes: |
        Include both Tuesday Study Hall/Q&A timestamps in every Tuesday announcement using these exact placeholders:
          - {{DISCORD_TS:tuesday_study_hall_early}}
          - {{DISCORD_TS:tuesday_study_hall_evening}}
      examples: []
    questions:
      - id: "opening"
        prompt: "What is the opening context for tomorrow?"
        required: true
      - id: "progress"
        prompt: "What progress should be highlighted?"
        required: true
      - id: "asks"
        prompt: "What support or responses do we need?"
        required: false
  wednesday:
    # Adaptability training (conditions variance)
    enabled: false
    target_channel_id: 1410479714182631474
    publish_time_local: "06:00"
    tone: "Calm, grounded, and practical."
    structure:
      - "Context"
      - "Main Points"
      - "Timing / Logistics"
    style_guidance:
      notes: |
        Include both Wednesday adaptability training timestamps in every Wednesday announcement using these exact placeholders:
          - {{DISCORD_TS:wednesday_adaptability_early}}
          - {{DISCORD_TS:wednesday_adaptability_evening}}
      examples: []
    questions:
      - id: "context"
        prompt: "What context is essential for tomorrow?"
        required: true
      - id: "main_points"
        prompt: "What main points must be covered?"
        required: true
      - id: "logistics"
        prompt: "What timing or logistics should be included?"
        required: false
  thursday:
    # Mastery Group Coaching (for Mastery drivers)
    enabled: false
    target_channel_id: 1410479714182631474
    publish_time_local: "06:00"
    tone: "Direct and motivating."
    structure:
      - "Topline"
      - "Details"
      - "CTA"
    style_guidance:
      notes: |
        Include the Thursday Mastery group training timestamp using this exact placeholder:
          - {{DISCORD_TS:thursday_mastery_training}}
        Also note that this timeslot can move, and an additional Thursday timeslot may be added later if demand increases.
      examples: []
    questions:
      - id: "topline"
        prompt: "What is the topline message?"
        required: true
      - id: "details"
        prompt: "What details need to be stated clearly?"
        required: true
      - id: "cta"
        prompt: "What call-to-action should we include?"
        required: false
  friday:
    # Friday Funday - public minigames
    enabled: true
    target_channel_id: 1410479714182631474
    publish_time_local: "06:00"
    tone: "Playful, welcoming, and crystal clear about what's happening and how to join."
    structure:
      - "What Friday Funday Is"
      - "This Week's Minigames"
      - "How to Join"
    style_guidance:
      notes: |
        Use a friendly, public-facing voice.
        Make it explicit that non-members are welcome as long as they bring good vibes.
        Keep the focus on:
          - what fun events are happening this week,
          - what makes them fun,
          - and exactly how/when to join.
        Include at least one vivid "imagine this..." or similar mini-scenario line.
        Close with:
          - exact start time (using a Discord timestamp placeholder),
          - where to join for comms,
          - and where to ask questions if someone is unsure.
      examples:
        - id: "friday_funday_ref_1"
          summary: "Playful public-facing Friday Funday announcement"
          text: |
            # Join us for Friday Funday!

            *Friday Funday is your chance to unwind with some comedy racing and fun minigames. It doesn't matter if you're a Lumeris member or not - as long as you bring good vibes, you'll be welcomed with open arms.*

            **:question: What are we doing this week?**

            We have two exciting games planned for this week - Simon Says, and Bowling!!

            =======================

            :checkered_flag: **Minigame 1: Simon Says**

            This one will require you to own the **Hockenheim Ring**.
            We will be racing a super-secret (free) car, all while playing Simon Says.

            > *Just imagine...*
            > Simon Says no brakes allowed!
            > Simon Says drive with one hand!

            Controlled chaos from ridiculous mini-challenges will guarantee a few belly laughs.

            =======================

            :checkered_flag: **Minigame 2 - Bowling**

            You will be put to the test on Lime Rock Park in an F4 car, all while trying to dodge the bowling balls!

            Get ready for a race with a twist. We'll run a seemingly-normal race, but you'll have to weave and turn to avoid the bowling balls, who are trying to take you out!

            *Who will make it through the race without being hit? Join to find out.*

            =======================

            Friday Funday will start at {{DISCORD_TS:friday_funday_start}}. Session names and passwords will be posted shortly before the event starts. Make sure to join us in https://discord.com/channels/1408224292604215340/1411275538978308246 for comms and minigame instructions!

            Any questions? Just shoot a DM to @blockwood43 or ask in https://discord.com/channels/1408224292604215340/1408224293120380980 and we'll help you out.

            We look forward to welcoming you on track.
    questions:
      - id: "vibe"
        prompt: "In 1â€“2 sentences, what is the vibe or intention for this Friday Funday and who is it for (members, non-members, friends, etc.)?"
        required: true
      - id: "games"
        prompt: "List each planned minigame with name, track, car(s), and a one- or two-sentence description of how it works and why itâ€™s fun."
        required: true
      - id: "logistics"
        prompt: "What time does it start, what content is required (cars/tracks), and where should people go in Discord for comms, passwords, and questions?"
        required: true
      - id: "extra_flavor"
        prompt: "Any extra flavor lines or silly example prompts youâ€™d like to include (e.g., 'Simon Says no brakes allowed')?"
        required: false
  saturday:
    # Racecraft training (format/participation may change)
    enabled: false
    target_channel_id: 1410479714182631474
    publish_time_local: "06:00"
    tone: "Light but still clear."
    structure:
      - "Update"
      - "Schedule"
      - "Optional Engagement"
    style_guidance:
      notes: |
        Include the Saturday Racecraft training timestamp using this exact placeholder:
          - {{DISCORD_TS:saturday_racecraft_training}}
      examples:
      - id: "saturday_ref_1"
        summary: "Concise description of racecraft training with option for switching to race together if turnout is light"
        text: |
          **Saturday Racecraft – Today’s Plan**

          Today’s focus is **racecraft training** with two optional blocks:

          - 🕜 **1:30 PM ET** – structured racecraft session  
          - 🕗 **8:00 PM ET** – repeat block / extra reps

          We’ll work on:
          - Clean race starts and first-lap survival
          - Safe but assertive overtakes
          - Defending without panic or divebombs

          **How to join:**  
          Show up in voice a few minutes early, have the combo loaded, and be ready to run short stints with feedback between runs.

          If turnout is light for a given block, we’ll just switch to a more relaxed “race together” format with the same goals in mind.
          **Saturday Racecraft – Today’s Plan**

          Today’s focus is **racecraft training** with two optional blocks:

          - 🕜 **1:30 PM ET** – structured racecraft session  
          - 🕗 **8:00 PM ET** – repeat block / extra reps

          We’ll work on:
          - Clean race starts and first-lap survival
          - Safe but assertive overtakes
          - Defending without panic or divebombs

          **How to join:**  
          Show up in voice a few minutes early, get warmed up, and be ready to join a league session to run short stints and drills with feedback between runs.

          If turnout is light for a given block, we’ll just switch to a more relaxed “race together” format with the same goals in mind.
          
    questions:
      - id: "update"
        prompt: "What update should we share?"
        required: true
      - id: "schedule"
        prompt: "What schedule details matter?"
        required: false
      - id: "engagement"
        prompt: "Any optional engagement prompt?"
        required: false
  sunday:
    # Race Together + weekly orientation for the coming week
    enabled: false
    target_channel_id: 1414715192448909323
    publish_time_local: "06:00"
    tone: "Reflective and orienting."
    structure:
      - "Reflection"
      - "Plan Ahead"
      - "Reminders"
    style_guidance:
      notes: |
        Include the Sunday Race Together timestamp using this exact placeholder:
          - {{DISCORD_TS:sunday_race_together}}
      examples: []
    questions:
      - id: "reflection"
        prompt: "What reflection or context is useful?"
        required: true
      - id: "plan_ahead"
        prompt: "What should people plan for next?"
        required: true
      - id: "reminders"
        prompt: "Any reminders to include?"
        required: false
